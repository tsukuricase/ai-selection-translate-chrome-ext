<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>AI划词翻译器 - 设置</title>
  <style>
    body {
      font-family: system-ui,sans-serif;
      background: #f5f6fa;
      padding: 24px 18px;
      min-width: 340px;
    }
    h3 { margin-top: 0; }
    label { display: block; margin: 14px 0 7px 0; }
    input[type="text"], input[type="password"] {
      width: 99%; max-width: 340px;
      padding: 7px; border-radius: 5px; border:1px solid #bbb;
      font-size: 16px;
    }
    button {
      background: #00aaee; color: #fff;
      border: none; border-radius: 3px;
      font-size: 15px; padding: 8px 20px;
      margin-top: 12px; cursor: pointer;
      transition: 0.2s;
    }
    button:disabled { opacity:0.6; cursor:not-allowed;}
    #status { margin-left: 12px; font-size: 14px;}
    .api-desc { font-size: 12px; color: #888; margin-top:2px;}
    .note { color:#b55; margin-top:10px; }
    .input-row { position:relative; }
    .showpass-toggle {
      position:absolute; right:6px; top:7.5px; cursor:pointer; color:#888; font-size:13px;
      background: none; border: none;
    }
  </style>
</head>
<body>
  <h3>AI服务设置</h3>
  <form id="apiForm" autocomplete="off">
    <label for="apiType">API类型:</label>
    <select id="apiType" name="apiType">
      <option value="openrouter">OpenRouter</option>
      <option value="deepseek">DeepSeek</option>
      <option value="qwen">Qwen（阿里千问）</option>
    </select>
    <div class="api-desc" id="apiTypeDesc"></div>

    <label for="apiKey">API Key:</label>
    <div class="input-row">
      <input type="password" id="apiKey" name="apiKey" placeholder="输入你的API Key" maxlength="80" autocomplete="off" />
      <button type="button" class="showpass-toggle" tabindex="-1" id="showPassBtn" title="显示/隐藏">👁️</button>
    </div>
    <div class="api-desc" id="apiKeyDesc">API Key 仅存浏览器本地 storage，不会上传。</div>

    <button id="saveBtn" type="submit">保存</button>
    <span id="status"></span>
    <div class="note">
      各AI平台需先领取 API Key。<br>
      <a href="https://openrouter.ai/" target="_blank">OpenRouter</a>
      /
      <a href="https://platform.deepseek.com/" target="_blank">DeepSeek</a>
      /
      <a href="https://dashscope.aliyun.com/" target="_blank">Qwen 千问</a>
    </div>
  </form>
  <script src="./options.js"></script>
</body>
</html>
